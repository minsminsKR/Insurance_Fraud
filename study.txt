# EDA
Exploratory Data Analysis, 탐색적 데이터 분석

# 통계적 기법을 활용한 EDA
1. T-Test (ex. 나이가 보험사기에 영향을 끼칠까?)
    1-1 분석목적
        ㄱ. 두 개의 Numerical 변수들의 평균 비교
        ㄴ. 귀무가설 : 두 그룹의 평균이 같다.
        ㄷ. 대립가설 : 두 그룹의 평균이 다르다(p-value<0.05)
    1-2 전제조건
        ㄱ. 두 변수들은 독립적이다.
        ㄴ. 데이터가 정규 분포를 따른다.
    1-3 How 작동원리
        ㄱ. 두 그룹 평균의 차이를 각 그룹의 표준오차로 나눈 값
        ㄴ. 이 값이 클수록 두 그룹의 평균 차이가 유의미하다는 것을 의미함(p-value도 점점 작아짐)

2. Kolmogorov-Smirnov Test(ex.보험사기 치는 사람들의 나이, 안치는 사람들의 나이 분포 비교)
    2-1 분석목적
        ㄱ. 두 개의 Numerical 변수들의 분포를 비교
        ㄴ. 귀무가설 : 두 그룹의 분포가 동일하다
        ㄷ. 대립가설 : 두 그룹의 분포가 다르다(p-value < 0.05)
    2-2 전제조건
        ㄱ. 연속형 데이터
        ㄴ. 두 데이터는 독립적이다
    3-3 How 작동원리
        ㄱ. 두 누적 분포함수(CDF)간의 최대 차이
        ㄴ. 이 값이 클수록 두 분포간의 차이가 크다는 것을 의미함

3. One way anova(ex.나이와 함께 자동차 제조사에 따라 비교가능)
- 기준 : 범주형 변수
- 연속형 변수로 각 그룹의 평균을 비교
    3-1 분석목적
        ㄱ. N개의 Numerical 변수들의 평균을 비교
        ㄴ. 귀무가설 : 모든 그룹의 평균은 같다
        ㄷ. 대립가설 : 적어도 하나의 그룹 평균이 다르다(p-value<0.05)
    3-2 전제조건
        ㄱ. 변수들이 독립적이다
        ㄴ. 데이터가 정규 분포를 따른다
        ㄷ. 연속형 데이터
    3-3 How 작동원리
        ㄱ. 그룹 간 분선 : 그룹 간의 상호 작용으로 인한 변동성.
        ㄴ. 그룹 내 분산 : 각 그룹 내의 변동성.
        ㄷ. F-통계량 계산 : (그룹 간 분산) / (그룹 내 분산)
    3-4 단점 : 적어도 한개의 그룹 평균이 다르다... -> 어떤 그룹인지 모름

4. One way anova의 보완책 : Tukey's HSD(Honest Significant Difference)
T-Test(두가지에 대한 계산)와 유사함.
여러가지의 경우에 대해 다 계산함. 
    4-1 분석목적
        ㄱ. 모든 가능한 그룹 쌍 간의 평균 차이를 비교하고, 이 차이가 통계적으로
        유의미한지 확인
        ㄴ. 다중 비교 문제를 해결하기 위해 설계됨
        (다중 비교 문제는 여러 번의 t-검정을 수행할 때 발생하는 오류율 증가 문제)
    4-2 전제조건
        ㄱ. 변수들이 독립적이다.
        ㄴ. 데이터가 정규 분포를 따른다.
        ㄷ. 연속형 데이터
    4-3 How 작동원리
        ㄱ. 각 그룹간의 평균의 차이를 계산

5. Two way anova 
    5-1 분석목적
        ㄱ. 두 개의 범주형 변수에 따른 연속형 변수의 평균차이를 평가
        ㄴ. 귀무가설 : 두 개의 범주형 변수의 모든 그룹 간 평균은 같다.
        ㄷ. 대립가설 : 적어도 하나의 그룹 평균이 다르다(p-value<0.05)
    5-2 전제조건
        ㄱ. 변수들이 독립적이다.
        ㄴ. 데이터가 정규분포를 따른다.
        ㄷ. 각 셀의 기대 빈도가 충분히 크다.
    5-3 How 작동원리
        ㄱ. 그룹 간 분산 : 두 범주형 변수의 상호작용으로 인한 변동성
        ㄴ. 그룹 내 분산 : 각 그룹 내의 변동성
        ㄷ. F-통계량 계산 : (그룹 간 분산)/(그룹 내 분산)
    5-4 단점 : 어떤 변수 또는 조합이 평균에 영향을 미치는지 구체적으로 알 수 없음

6. Chi-Square(ex.보험사기 여부가 자동차 제조사 여부와 독립적인가?)
Expected Frequency : 카테고리 1,2의 전반적인 갯수를 바탕으로 독립적이라면 몇개정도가 각각의 셀에 들어가는지 계산한다.
                    기대 빈도는 귀무 가설이 참일 때 각 범주에서 예상되는 빈도입니다. 이는 각 범주의 비율을 바탕으로 전체 샘플 크기에서 계산됩니다.
Actual Frequency : 실제 데이터셋 중에서 카테고리 1,2의 동시에 해당하는 값을 각 셀에 넣는다.
                    실제 빈도는 관찰된 데이터에서 특정 범주에 속하는 관측값의 수입니다. 즉, 실험이나 조사에서 직접적으로 계산된 값
    6-1 분석목적
        ㄱ. Categorical 변수들의 연관성을 검정
        ㄴ. 귀무가설 : 변수들이 독립적이다
        ㄷ. 대립가설 : 변수들이 독립적이지 않다.(p-value<0.05)
    6-2 전제조건
        ㄱ. Categorical 변수
        ㄴ. 기대 빈도가 이론적 분포에 기반하여 생성됨
    6-3 How 작동원리
        ㄱ. 관측된 빈도와 기대되는 빈도의 차이를 합산하여 계산
        ㄴ. 이 값이 클수록 두 변수 간의 연관성이 강하다는 것을 의미함

7. Correlation : 두 개의 연속형 변수를 분석
    7-1 분석목적
        ㄱ. 두 연속형 변수 간의 선형 관계의 강도와 방향을 측정
        ㄴ. 귀무가설 : 두 변수간의 상간관계가 없다.(상관계수 = 0)
        ㄷ. 대립가설 : 두 변수 간에 상관관계가 존재한다.(상관계수 != 0)
    7-2 전제조건
        ㄱ. 샘플이 독립적이다.
        ㄴ. 변수 간의 관계는 선형이다.
        ㄷ. 데이터가 정규 분포를 따른다.
    7-3 How 작동원리
        ㄱ. 두 변수간의 공분산을 계산.
        ㄴ. 각 변수의 표준편차로 나누어 상관계수(r)을 계산
    7-4 단점 : 상관관계는 인과관계를 의미하지 않으며, 외부 요인에 의해 영향을 받을 수 있다.

# git bash가 느릴때
1. VSCode에서 Settings열기
2. terminal.integrated.shellIntegration  를 검색하고 비활성화
3. 터미널 종료하고 다시 시작

# 결측치
가끔 Numerical 데이터의 null을 999 혹은 0 으로 넣고,
Categorical 데이터면 "Null" 이라는 str값을 넣을 때도 있으니 조심해야함

# utils.py를 import할 때
이미 한번 임포트 된 모듈은 다시 임포트 구문을 실행시킨다 해도 변경된 내용이 인터프리터 상에 적용
importlib.reload(utils) # 코드를 수정했을 때, 커널을 재시작하지 않고도 변경된 내용을 반영
from utils import histogram_plot # 수정된 함수를 특정지어 한번 더 해줘야함??

## 보험 도메인 지식
해당 데이터는 개인용에 초점이 맞춰져있음.

# 보험의 종류 (위험도, 사고빈도).

사람을 대상 - 대인
물건을 대상 - 대물
1. 개인용
개인 소유의 승용차 대상

2. 업무용
회사의 관용 자동차 대상
업무 활용을 위한 차량

3. 영업용
택시, 화물 등 수익을 목적으로 운행되는 차량

4. 이륜차
이륜 자동차 또는 원동 자전거

# 보험 상품의 구조
보험 상품에 따라 보혐료가 결정된다.

운정경력이 짧거나 나이가 어리면 보험료가 높다.
과거 사고 이력이 있으면 보험료가 높다.

# 보험료 측정
보험금 제공한것에 대해 어느정도 회수하고
개인에 대해 리스크가 높다고 판단되니 보험료를 부과함

# 사고 처리 절차 (보험금 지급)
1. 사고 신고
2. 손해 사정인이 사고 조사
3. 보험금 지급 결정(공제액 적용)
    - 보험상품을 처음 가입할 때 공제액 높게 하면 받을 수 있는 보험금도 많아짐
    - 보험사기와 연관이 클 듯